apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: dylanmtaylor-ingress
  namespace: dylanmtaylor
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
spec:
  ingressClassName: nginx
  defaultBackend:
    service:
      name: www-dylanmtaylor-com
      port:
        number: 80
  rules:
    # Main website - www.dylanmtaylor.com and dylanmtaylor.com
    - host: www.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: www-dylanmtaylor-com
                port:
                  number: 80
    - host: www.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: www-dylanmtaylor-com
                port:
                  number: 80
    - host: dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: www-dylanmtaylor-com
                port:
                  number: 80
    - host: dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: www-dylanmtaylor-com
                port:
                  number: 80
    - host: localhost
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: www-dylanmtaylor-com
                port:
                  number: 80

    # Apps subdomain
    - host: apps.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: apps-dylanmtaylor-com
                port:
                  number: 80
    - host: apps.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: apps-dylanmtaylor-com
                port:
                  number: 80

    # FWC subdomain
    - host: fwc.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: fwc-dylanmtaylor-com
                port:
                  number: 80
    - host: fwc.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: fwc-dylanmtaylor-com
                port:
                  number: 80

    # Files subdomain
    - host: files.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: files-dylanmtaylor-com
                port:
                  number: 80
    - host: files.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: files-dylanmtaylor-com
                port:
                  number: 80

    # Git redirect subdomain
    - host: git.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: git-dylanmtaylor-com
                port:
                  number: 80
    - host: git.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: git-dylanmtaylor-com
                port:
                  number: 80

    # Blog redirect subdomain
    - host: blog.dylanmtaylor.com
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: blog-dylanmtaylor-com
                port:
                  number: 80
    - host: blog.dylanmtaylor.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: blog-dylanmtaylor-com
                port:
                  number: 80
